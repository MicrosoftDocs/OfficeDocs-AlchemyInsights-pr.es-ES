---
title: Solución de problemas de los protocolos OAuth 2.0 y OpenID Connect
ms.author: v-smandalika
author: v-smandalika
manager: dansimp
ms.date: 03/17/2021
audience: Admin
ms.topic: article
ms.service: o365-administration
ROBOTS: NOINDEX, NOFOLLOW
localization_priority: Priority
ms.collection: Adm_O365
ms.custom:
- "9776"
- "9004342"
ms.openlocfilehash: d2f14d4d16bea890b564cdb9bd9ac3875c28d115
ms.sourcegitcommit: c08bed4071baa3bb5879496df3ed44fb828c8367
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 03/19/2021
ms.locfileid: "50898248"
---
# <a name="troubleshoot-oauth-20-and-openid-connect-protocols"></a><span data-ttu-id="1d734-102">Solución de problemas de los protocolos OAuth 2.0 y OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="1d734-102">Troubleshoot OAuth 2.0 and OpenID Connect protocols</span></span>

<span data-ttu-id="1d734-103">Para resolver los problemas de OAuth 2.0 y OpenID Connect, realice los siguientes pasos recomendados:</span><span class="sxs-lookup"><span data-stu-id="1d734-103">To resolve OAuth 2.0 and OpenID Connect issues, perform the following recommended steps:</span></span>

<span data-ttu-id="1d734-104">Consulte los siguientes artículos relacionados con la configuración y la solución de problemas de los protocolos OAuth 2.0 y OpenID Connect:</span><span class="sxs-lookup"><span data-stu-id="1d734-104">Refer to the following articles that are related to configuration and troubleshooting OAuth 2.0 and OpenID Connect protocols:</span></span>

- <span data-ttu-id="1d734-105">[Plataforma de identidad de Microsoft y el flujo del código de autorización de OAuth 2.0](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-auth-code-flow) - En este artículo se describe cómo aprender a programar directamente contra el **flujo de concesión de código (PCKE)** en su aplicación, en cualquier lenguaje.</span><span class="sxs-lookup"><span data-stu-id="1d734-105">[Microsoft identity platform and OAuth 2.0 authorization code flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-auth-code-flow) - This article describes how to program directly against the **code grant (PKCE) flow** in your application, using any language.</span></span>
- <span data-ttu-id="1d734-106">[Plataforma de identidad de Microsoft y el flujo de credenciales de cliente de OAuth 2.0](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow) - En este artículo se describe cómo programar directamente contra el **flujo de credenciales de cliente** en su aplicación.</span><span class="sxs-lookup"><span data-stu-id="1d734-106">[Microsoft identity platform and the OAuth 2.0 client credentials flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow) - This article describes how to program directly against the **client credentials flow** in your application.</span></span>
- <span data-ttu-id="1d734-107">[Plataforma de identidad de Microsoft y las Credenciales de contraseña del propietario del recurso (ROPC) de OAuth 2.0](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth-ropc) - En este artículo se describe cómo programar directamente contra el **flujo de ROPC** en su aplicación.</span><span class="sxs-lookup"><span data-stu-id="1d734-107">[Microsoft identity platform and OAuth 2.0 Resource Owner Password Credentials](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth-ropc) - This article describes how to program directly against the **ROPC flow** in your application.</span></span>
    - <span data-ttu-id="1d734-108">La Plataforma de identidad de Microsoft solo admite ROPC para espacios empresariales de Azure AD, y no para cuentas personales.</span><span class="sxs-lookup"><span data-stu-id="1d734-108">The Microsoft identity platform only supports ROPC for Azure AD tenants, and not for personal accounts.</span></span> <span data-ttu-id="1d734-109">Esto significa que necesita usar un punto de conexión específico para espacio empresarial **(https://login.microsoftonline.com/{TenantId_or_Name})** o el punto de conexión de la **organización)**.</span><span class="sxs-lookup"><span data-stu-id="1d734-109">This means that you must use a tenant-specific endpoint **(https://login.microsoftonline.com/{TenantId_or_Name})** or the **organizations** endpoint.</span></span>
    - <span data-ttu-id="1d734-110">Las cuentas personales que se invitan a un espacio empresarial de Azure AD no pueden usar ROPC.</span><span class="sxs-lookup"><span data-stu-id="1d734-110">Personal accounts that are invited to an Azure AD tenant can't use ROPC.</span></span>
    - <span data-ttu-id="1d734-111">Las cuentas que no tengan contraseñas no pueden iniciar sesión a través de ROPC.</span><span class="sxs-lookup"><span data-stu-id="1d734-111">Accounts that don't have passwords can't sign in through ROPC.</span></span> <span data-ttu-id="1d734-112">Para este escenario, le recomendamos que use un flujo diferente para su aplicación.</span><span class="sxs-lookup"><span data-stu-id="1d734-112">For this scenario, we recommend that you use a different flow for your app, instead.</span></span>
    - <span data-ttu-id="1d734-113">Si los usuarios necesitan usar la [autenticación multifactor (MFA)](https://docs.microsoft.com/azure/active-directory/authentication/concept-mfa-howitworks) para iniciar sesión en la aplicación, serán bloqueados.</span><span class="sxs-lookup"><span data-stu-id="1d734-113">If users need to use [multi-factor authentication (MFA)](https://docs.microsoft.com/azure/active-directory/authentication/concept-mfa-howitworks) to log in to the application, they will be blocked.</span></span>
    - <span data-ttu-id="1d734-114">ROPC no es compatible con los escenarios de [federación de identidades híbridas](https://docs.microsoft.com/azure/active-directory/hybrid/whatis-fed) (por ejemplo, Azure AD y ADFS usados para autenticar cuentas locales).</span><span class="sxs-lookup"><span data-stu-id="1d734-114">ROPC is not supported in [hybrid identity federation](https://docs.microsoft.com/azure/active-directory/hybrid/whatis-fed) scenarios (for example, Azure AD and ADFS used to authenticate on-premises accounts).</span></span> <span data-ttu-id="1d734-115">Si los usuarios son redirigidos a la página completa de un proveedor de identidad local, Azure AD no podrá probar el nombre de usuario y la contraseña con ese proveedor de identidad.</span><span class="sxs-lookup"><span data-stu-id="1d734-115">If users are full-page redirected to an on-premises identity provider, Azure AD is not able to test the username and password against that identity provider.</span></span> <span data-ttu-id="1d734-116">Sin embargo, la [Autenticación de paso a través](https://docs.microsoft.com/azure/active-directory/hybrid/how-to-connect-pta) es compatible con ROPC.</span><span class="sxs-lookup"><span data-stu-id="1d734-116">[Pass-through authentication](https://docs.microsoft.com/azure/active-directory/hybrid/how-to-connect-pta) is supported with ROPC, however.</span></span>
    - <span data-ttu-id="1d734-117">Una excepción para un escenario de federación de identidades híbridas sería la siguiente: La directiva de detección del dominio principal con **AllowCloudPasswordValidation** establecida en **TRUE** permitirá que el flujo de ROPC funcione para los usuarios federados cuando la contraseña local esté sincronizada con la nube.</span><span class="sxs-lookup"><span data-stu-id="1d734-117">An exception to a hybrid identity federation scenario would be the following: Home Realm Discovery policy with **AllowCloudPasswordValidation** set to **TRUE** will enable ROPC flow to work for federated users when on-premises password is synced to cloud.</span></span> <span data-ttu-id="1d734-118">Para obtener más información, consulte [Habilitar la autenticación ROPC directa de usuarios federados para aplicaciones heredadas.](https://docs.microsoft.com/azure/active-directory/manage-apps/configure-authentication-for-federated-users-portal#enable-direct-ropc-authentication-of-federated-users-for-legacy-applications)</span><span class="sxs-lookup"><span data-stu-id="1d734-118">For more information, see [Enable direct ROPC authentication of federated users for legacy applications](https://docs.microsoft.com/azure/active-directory/manage-apps/configure-authentication-for-federated-users-portal#enable-direct-ropc-authentication-of-federated-users-for-legacy-applications)</span></span> 
- <span data-ttu-id="1d734-119">[Plataforma de identidad de Microsoft y el flujo con derechos delegados de OAuth 2.0](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow) - En este artículo se describe cómo programar directamente contra el **flujo con derechos delegados** en su aplicación.</span><span class="sxs-lookup"><span data-stu-id="1d734-119">[Microsoft identity platform and OAuth 2.0 On-Behalf-Of flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow) - This article describes how to program directly against the **on-behalf-of (OBO) flow** in your application.</span></span>
- <span data-ttu-id="1d734-120">[Plataforma de identidad de Microsoft y el protocolo OpenID Connect](https://docs.microsoft.com/azure/active-directory/develop/v2-protocols-oidc) - En este artículo se muestra cómo implementar el protocolo OpenID Connect independientemente del lenguaje y se describe cómo enviar y recibir mensajes de HTTP sin usar ninguna biblioteca de código abierto de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="1d734-120">[Microsoft identity platform and OpenID Connect protocol](https://docs.microsoft.com/azure/active-directory/develop/v2-protocols-oidc) - This article shows how to implement the OpenID Connect protocol independent of language, and describes how to send and receive HTTP messages without using any Microsoft open-source libraries.</span></span>

<span data-ttu-id="1d734-121">**Tokens de acceso**</span><span class="sxs-lookup"><span data-stu-id="1d734-121">**Access Tokens**</span></span>

<span data-ttu-id="1d734-122">[Tokens de acceso a la Plataforma de identidad de Microsoft](https://docs.microsoft.com/azure/active-directory/develop/access-tokens) - Obtenga información sobre cómo su API puede validar y usar las notificaciones dentro de un token de acceso.</span><span class="sxs-lookup"><span data-stu-id="1d734-122">[Microsoft identity platform access tokens](https://docs.microsoft.com/azure/active-directory/develop/access-tokens) - Learn how your API can validate and use the claims inside an access token.</span></span> <span data-ttu-id="1d734-123">Toda la documentación de este artículo, excepto cuando se indique lo contrario, solo se aplica a los tokens emitidos para las API que haya registrado.</span><span class="sxs-lookup"><span data-stu-id="1d734-123">All documentation in this article, except where noted, applies only to tokens issued for APIs you've registered.</span></span> <span data-ttu-id="1d734-124">No se aplica a los tokens emitidos para las API propiedad de Microsoft, ni esos tokens pueden usarse para validar cómo la Plataforma de identidad de Microsoft emitirá tokens para una API que cree.</span><span class="sxs-lookup"><span data-stu-id="1d734-124">It does not apply to tokens issued for Microsoft-owned APIs, nor can those tokens be used to validate how the Microsoft identity platform will issue tokens for an API you create.</span></span>

<span data-ttu-id="1d734-125">**Configuración de aplicaciones**</span><span class="sxs-lookup"><span data-stu-id="1d734-125">**Application Configuration**</span></span>

<span data-ttu-id="1d734-126">[Restricciones y limitaciones de URI de redirección (dirección URL de respuesta)](https://docs.microsoft.com/azure/active-directory/develop/reply-url) - Obtenga información sobre cómo configurar el URI de redirección (dirección URL de respuesta).</span><span class="sxs-lookup"><span data-stu-id="1d734-126">[Redirect URI (reply URL) restrictions and limitations](https://docs.microsoft.com/azure/active-directory/develop/reply-url) - Learn how to configure your Redirect URI (reply URL).</span></span> <span data-ttu-id="1d734-127">Un URI de redirección, o dirección URL de respuesta, es la ubicación donde el servidor de autorización envía al usuario una vez que la aplicación se ha autorizado correctamente y se ha concedido un código de autorización o un token de acceso.</span><span class="sxs-lookup"><span data-stu-id="1d734-127">A redirect URI, or reply URL, is the location where the authorization server sends the user once the app has been successfully authorized and granted an authorization code or access token.</span></span> <span data-ttu-id="1d734-128">El servidor de autorización envía el código o token al URI de redirección; por lo que es importante que registre la ubicación correcta como parte del proceso de registro de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="1d734-128">The authorization server sends the code or token to the redirect URI; so it's important you register the correct location as part of the app registration process.</span></span>

<span data-ttu-id="1d734-129">**Aprovisionamiento de aplicaciones**</span><span class="sxs-lookup"><span data-stu-id="1d734-129">**Application Provisioning**</span></span>

<span data-ttu-id="1d734-130">[Tutorial: Desarrollar y planear el aprovisionamiento de un punto de conexión SCIM](https://docs.microsoft.com/azure/active-directory/app-provisioning/use-scim-to-provision-users-and-groups) - En este artículo se describe cómo compilar un punto de conexión SCIM e integrarlo con el servicio de aprovisionamiento de AAD.</span><span class="sxs-lookup"><span data-stu-id="1d734-130">[Tutorial: Develop and plan provisioning for a SCIM endpoint](https://docs.microsoft.com/azure/active-directory/app-provisioning/use-scim-to-provision-users-and-groups) - This article describes how to build an SCIM endpoint and integrate with the AAD provisioning service.</span></span>


